---
description: Conventions for @proxed/analytics (OpenPanel wrapper)
globs:
  - "packages/analytics/**/*.ts"
  - "packages/analytics/**/*.tsx"
alwaysApply: false
---
# `@proxed/analytics`

Wrapper around OpenPanel for tracking events in browser and server.

## Entry points

- `@proxed/analytics/client` → `AnalyticsProvider` + `track`
- `@proxed/analytics/server` → `setupAnalytics(...)`
- `@proxed/analytics/events` → event names/types/constants

## Conventions

- Centralize event names and properties in `packages/analytics/src/events.ts`.
- Avoid sending PII; keep payloads minimal and intentional.
- Respect tracking consent (see `tracking-consent` cookie logic in server setup).
- In non-production, logging to console for debugging is OK; in production, rely on OpenPanel.

